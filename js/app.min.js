(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",1e3),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")}));const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper");function s(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}function r(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.remove("_no-money")))}),1e3)}function n(e,t){return Math.floor(Math.random()*(t-e)+e)}function c(e,t){return Math.random()*(t-e)+e}function l(e,t){return e*t/100}let i=document.querySelectorAll(".icon-anim img");function a(){document.querySelector(".select-name").classList.add("_hide"),document.querySelector(".lobby").classList.remove("_hide"),document.querySelector(".lobby").classList.add("_active")}if(document.querySelector(".icon-anim img")&&setInterval((()=>{!function(){let e=n(0,3),t=["jump","scale","rotate"],o=n(0,i.length);i.forEach((e=>{e.classList.contains("_anim-icon-jump")?e.classList.remove("_anim-icon-jump"):e.classList.contains("_anim-icon-scale")?e.classList.remove("_anim-icon-scale"):e.classList.contains("_anim-icon-rotate")&&e.classList.remove("_anim-icon-rotate")})),setTimeout((()=>{i[o].classList.add(`_anim-icon-${t[e]}`)}),100)}()}),1e4),document.querySelector(".main")&&(sessionStorage.setItem("rocket-1",!0),sessionStorage.getItem("current-rocket")||sessionStorage.setItem("current-rocket",1),sessionStorage.getItem("player-name")&&(a(),document.querySelector(".name__name-text").textContent=sessionStorage.getItem("player-name"))),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&(_(),u(),setTimeout((()=>{m()}),2600)),document.querySelector(".select-name__input")){let e=document.querySelector(".select-name__input");e.addEventListener("input",(t=>{e.value.length>=6&&(e.value=e.value.substring(0,6))}))}function u(){let e=document.createElement("div");e.classList.add("lobby__rocket-pin"),document.querySelector(".lobby__rocket").append(e)}function m(){let e=document.querySelector(".lobby__rocket-pin");A(e.getBoundingClientRect().left,e.getBoundingClientRect().top,"177, 78, 210",h.width/2.3,"3",100,120)}function _(){document.querySelector(".lobby__rocket img").setAttribute("src",`img/icons/rocket_${+sessionStorage.getItem("current-rocket")}.svg`)}const d=1500,y=2500,S=500;function g(){sessionStorage.getItem("rocket-1")&&(document.querySelectorAll(".items-shop__item")[0].classList.add("_active"),document.querySelectorAll(".items-shop__button p")[0].textContent="select"),sessionStorage.getItem("rocket-2")&&(document.querySelectorAll(".items-shop__item")[1].classList.add("_active"),document.querySelectorAll(".items-shop__button p")[1].textContent="select"),sessionStorage.getItem("rocket-3")&&(document.querySelectorAll(".items-shop__item")[2].classList.add("_active"),document.querySelectorAll(".items-shop__button p")[2].textContent="select"),sessionStorage.getItem("boost")&&(document.querySelector(".items-shop__boost-count").textContent=sessionStorage.getItem("boost"))}function p(e){var t,o;document.querySelectorAll(".items-shop__item")[e].classList.add("_anim"),setTimeout((()=>{document.querySelectorAll(".items-shop__item")[e].classList.remove("_anim")}),1500),t=".items-shop__item",o="_selected",document.querySelectorAll(t).forEach((e=>{e.classList.contains(o)&&e.classList.remove(o)})),setTimeout((()=>{document.querySelectorAll(".items-shop__item")[e].classList.add("_selected")}),1500)}function q(e,t){let o=+sessionStorage.getItem("money");e<4?sessionStorage.getItem(`rocket-${e}`)?(sessionStorage.setItem("current-rocket",e),p(e-1)):o>=t?(s(t,".check"),sessionStorage.setItem(`rocket-${e}`,!0),g()):o<t&&r(".check"):o>=t?(s(t,".check"),sessionStorage.getItem("boost")?sessionStorage.setItem("boost",+sessionStorage.getItem("boost")+1):sessionStorage.setItem("boost",1)):o<t&&r(".check")}document.querySelector(".shop")&&(document.querySelectorAll(".items-shop__price")[0].textContent=d,document.querySelectorAll(".items-shop__price")[1].textContent=y,document.querySelectorAll(".items-shop__price")[2].textContent=S,g(),sessionStorage.getItem("current-rocket")||sessionStorage.setItem("current-rocket",1),document.querySelectorAll(".items-shop__item")[+sessionStorage.getItem("current-rocket")-1].classList.add("_selected"));const b={program:1,winners:[],player_speed_up:.3,player_speed_right:.4,bot_1_speed_up:.1,bot_1_speed_right:.1,bot_2_speed_up:.1,bot_2_speed_right:.1,timerPlayer:!1,timerBot_1:!1,timerBot_2:!1,timerSmokePlayer:!1,timerSmokeBot_1:!1,timerSmokeBot_2:!1,timerDrawLinePlayer:!1,timerDrawLineBot_1:!1,timerDrawLineBot_2:!1},h={width:0,height:0,color_line_player:0,color_line_dot_1:0,color_line_dot_2:0};function I(){x(".square"),s(+sessionStorage.getItem("current-bet"),".check"),function(){1==+sessionStorage.getItem("current-rocket")?(b.player_speed_up=c(.11,.25),b.player_speed_right=c(.4,.7)):2==+sessionStorage.getItem("current-rocket")?(b.player_speed_up=c(.12,.2),b.player_speed_right=c(.5,.8)):3==+sessionStorage.getItem("current-rocket")&&(b.player_speed_up=c(.13,.2),b.player_speed_right=c(.6,.8));b.bot_1_speed_up=c(.09,.25),b.bot_1_speed_right=c(.4,.7),b.bot_2_speed_up=c(.08,.25),b.bot_2_speed_right=c(.4,.7)}(),function(){let e=-5,t=3,o=0,s=document.querySelector(".square__player");b.timerPlayer=setInterval((()=>{if(t<=7?clearInterval(b.timerSmokePlayer):t<=15?e+=b.player_speed_up:t>15&&t<=30?e+=1.5*b.player_speed_up:t>30&&t<=45?e+=2*b.player_speed_up:t>45&&(e+=5*b.player_speed_up),t+=b.player_speed_right,o<=30&&(o+=.2),s.style.bottom=`${e}%`,s.style.left=`${t}%`,s.style.transform=`rotate(${75-o}deg)`,t>=90||e>=85){A(l(t,h.width)+5,h.height-l(e,h.height)-20,h.color_line_player,0,"2",100,150),b.winners.push(1),3==b.winners.length&&L(),clearInterval(b.timerPlayer),clearInterval(b.timerDrawLine_1)}}),35)}(),function(){let e=5,t=1,o=0,s=document.querySelector(".square__bot_1");b.timerBot_1=setInterval((()=>{if(t<=7?clearInterval(b.timerSmokeBot_1):t<=15?e+=b.bot_1_speed_up:t>15&&t<=30?e+=1.5*b.bot_1_speed_up:t>30&&t<=45?e+=2*b.bot_1_speed_up:t>45&&(e+=4*b.bot_1_speed_up),t+=b.bot_1_speed_right,o<=30&&(o+=.2),s.style.bottom=`${e}%`,s.style.left=`${t}%`,s.style.transform=`rotate(${75-o}deg)`,t>=90||e>=85){A(l(t,h.width)+5,h.height-l(e,h.height)-10,h.color_line_dot_1,0,"2",100,150),b.winners.push(2),3==b.winners.length&&L(),clearInterval(b.timerBot_1)}}),35)}(),function(){let e=10,t=1,o=0,s=document.querySelector(".square__bot_2");b.timerBot_2=setInterval((()=>{if(t<=7?clearInterval(b.timerSmokeBot_2):t<=15?e+=b.bot_2_speed_up:t>15&&t<=30?e+=1.5*b.bot_2_speed_up:t>30&&t<=45?e+=2*b.bot_2_speed_up:t>45&&(e+=4*b.bot_2_speed_up),t+=b.bot_2_speed_right,o<=30&&(o+=.2),s.style.bottom=`${e}%`,s.style.left=`${t}%`,s.style.transform=`rotate(${75-o}deg)`,t>=90||e>=85){A(l(t,h.width)+5,h.height-l(e,h.height)-10,h.color_line_dot_2,0,"2",100,150),b.winners.push(3),3==b.winners.length&&L(),clearInterval(b.timerBot_2)}}),35)}(),h.color_line_player=`${n(0,255)},${n(0,255)},${n(0,255)}`,h.color_line_dot_1=`${n(0,255)},${n(0,255)},${n(0,255)}`,h.color_line_dot_2=`${n(0,255)},${n(0,255)},${n(0,255)}`,function(){let e=["Tom","Bob","Zeus","James","Noah","Liam","Ava","Mia","Eric","Sam"],t=["Jack","Oscar","John","Lola","Cora","Lucy","Eva ","Alex","Carl","Dirk"];document.querySelector(".square__bot-name_1").textContent=e[n(0,10)],document.querySelector(".square__bot-name_2").textContent=t[n(0,10)]}(),document.querySelector(".square__bot-name_1").style.color=`rgb(${h.color_line_dot_1})`,document.querySelector(".square__bot-name_1").style.textShadow=`0px 3px 5px rgba(${h.color_line_dot_1}, 0.71)`,document.querySelector(".square__bot-name_2").style.color=`rgb(${h.color_line_dot_2})`,document.querySelector(".square__bot-name_2").style.textShadow=`0px 3px 5px rgba(${h.color_line_dot_2}, 0.71)`,document.querySelectorAll(".square__bot-name").forEach((e=>{e.classList.add("_active")})),document.querySelector(".controls__body").classList.add("_hold"),setTimeout((()=>{b.program=2}),500)}function f(){b.timerSmokePlayer=setInterval((()=>{k(".square__player")}),50),b.timerSmokeBot_1=setInterval((()=>{k(".square__bot_1")}),50),b.timerSmokeBot_2=setInterval((()=>{k(".square__bot_2")}),50)}function L(){1==b.winners[0]?(document.querySelector(".square__count").textContent=3*+sessionStorage.getItem("current-bet"),function(e,t,o,s){let r=+sessionStorage.getItem("money")+e;setTimeout((()=>{sessionStorage.setItem("money",r),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money"))),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money")))}),o),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),s)}(3*+sessionStorage.getItem("current-bet"),".check"),document.querySelector(".square__text").textContent="you win",document.querySelector(".square__info-item").classList.add("_win"),setTimeout((()=>{document.querySelector(".square__info-item").classList.add("_active")}),500)):(document.querySelector(".square__text").textContent="you loose",document.querySelector(".square__info-item").classList.add("_loose"),setTimeout((()=>{document.querySelector(".square__info-item").classList.add("_active")}),500)),setTimeout((()=>{document.querySelector(".button-control__body").classList.add("_again"),document.querySelector(".button-control__title").textContent="play again",document.querySelector(".controls__body").classList.remove("_hold")}),500)}function v(){document.querySelector(".button-control__body").classList.remove("_again"),document.querySelector(".button-control__title").textContent="start",document.querySelector(".ctx").getContext("2d").clearRect(0,0,h.width,h.height),document.querySelector(".square__player").style.bottom="-5%",document.querySelector(".square__player").style.left="3%",document.querySelector(".square__player").style.transform="rotate(75deg)",document.querySelector(".square__bot_1").style.bottom="5%",document.querySelector(".square__bot_1").style.left="1%",document.querySelector(".square__bot_1").style.transform="rotate(75deg)",document.querySelector(".square__bot_2").style.bottom="10%",document.querySelector(".square__bot_2").style.left="1%",document.querySelector(".square__bot_2").style.transform="rotate(75deg)",document.querySelector(".square__info-item").classList.remove("_active"),setTimeout((()=>{document.querySelector(".square__info-item").classList.contains("_win")&&document.querySelector(".square__info-item").classList.remove("_win"),document.querySelector(".square__info-item").classList.contains("_loose")&&document.querySelector(".square__info-item").classList.remove("_loose")}),500),document.querySelector(".boost-game__button").classList.remove("_hold"),b.winners=[],f(),document.querySelectorAll(".square__dot-line").forEach((e=>e.remove())),document.querySelectorAll(".square__bot-name").forEach((e=>{e.classList.remove("_active")})),setTimeout((()=>{b.program=1}),200)}function k(e){let t=document.createElement("div");t.classList.add("square__dot");let o=n(3,20);t.style.width=`${o}px`,t.style.height=`${o}px`;let s=n(0,360);t.style.transform=`rotate(${s}deg)`,document.querySelector(e).append(t),setTimeout((()=>{t.remove()}),1e3)}function x(e){let t=document.createElement("canvas");t.classList.add("ctx");let o=document.querySelector(e);h.width=o.clientWidth,h.height=o.clientHeight,t.setAttribute("width",`${h.width}px`),t.setAttribute("height",`${h.height}px`),o.append(t)}function A(e,t,o,s,r,n,c){let l=document.querySelector(".ctx").getContext("2d");l.lineWidth=r;let i=l.createLinearGradient(0,h.height,e,t);i.addColorStop(0,`rgba(${o},0.1)`),i.addColorStop(1,`rgba(${o},1)`),l.strokeStyle=i,l.beginPath(),l.moveTo(s,h.height),l.quadraticCurveTo(e-n,t+c,e,t),l.stroke()}document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&x(".main"),document.querySelector(".game")&&(document.querySelector(".name__name-text").textContent=sessionStorage.getItem("player-name"),document.querySelector(".square__player img").setAttribute("src",`img/icons/rocket_${+sessionStorage.getItem("current-rocket")}.svg`),f(),sessionStorage.getItem("boost")?document.querySelector(".boost-game__count").textContent=sessionStorage.getItem("boost"):document.querySelector(".boost-game__count").textContent=0,+sessionStorage.getItem("money")>=10?(document.querySelector(".block-bet__coins").textContent=10,sessionStorage.setItem("current-bet",10)):(document.querySelector(".block-bet__coins").textContent=0,sessionStorage.setItem("current-bet",0))),document.addEventListener("click",(e=>{let s=e.target,n=+sessionStorage.getItem("current-bet"),c=+sessionStorage.getItem("money");if(s.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible"),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main").classList.add("_active")),s.closest(".select-name__button")){let e=document.querySelector(".select-name__input").value;x(".main"),_(),u(),setTimeout((()=>{m()}),2600),""!=e?(sessionStorage.setItem("player-name",e),a(),document.querySelector(".name__name-text").textContent=sessionStorage.getItem("player-name")):(document.querySelector(".select-name__input").classList.add("_anim"),setTimeout((()=>{document.querySelector(".select-name__input").classList.remove("_anim")}),600))}s.closest(".items-shop__button")&&1==s.closest(".items-shop__item").dataset.shop&&(sessionStorage.setItem("current-rocket",1),p(0)),s.closest(".items-shop__button")&&2==s.closest(".items-shop__item").dataset.shop&&q(2,d),s.closest(".items-shop__button")&&3==s.closest(".items-shop__item").dataset.shop&&q(3,y),s.closest(".items-shop__button")&&4==s.closest(".items-shop__item").dataset.shop&&(q(4,S),g()),s.closest(".block-bet__minus")&&n>10&&(sessionStorage.setItem("current-bet",n-10),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")),s.closest(".block-bet__plus")&&(c-10>n?(sessionStorage.setItem("current-bet",n+10),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):r(".check")),s.closest(".block-bet__min")&&(+sessionStorage.getItem("money")>=10?(sessionStorage.setItem("current-bet",10),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):r(".check")),s.closest(".block-bet__max")&&(+sessionStorage.getItem("money")>=10?(sessionStorage.setItem("current-bet",+sessionStorage.getItem("money")),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):r(".check")),s.closest(".controls__button")&&1==b.program&&I(),s.closest(".controls__button")&&2==b.program&&v(),s.closest(".boost-game__button")&&2==b.program&&(b.player_speed_right*=1.5,b.player_speed_up*=1.3,sessionStorage.setItem("boost",+sessionStorage.getItem("boost")-1),document.querySelector(".boost-game__button").classList.add("_hold"),setTimeout((()=>{document.querySelector(".boost-game__count").textContent=sessionStorage.getItem("boost")}),500))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)}))})();